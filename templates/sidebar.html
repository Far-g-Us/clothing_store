{% load mptt_tags %}
	<div class="sidebar-categories">
		<div class="head">Categories</div>
		<ul class="main-categories">
		{% full_tree_for_model product.Category as categories %}
            {% recursetree categories %}
			<li class="main-nav-list">
				<a href="{{ node.get_absolute_url }}" aria-expanded="false"
				aria-controls="categoriesCollapse"><span class="lnr lnr-arrow-right"></span>{{ node.name }}<span class="number">({{ node.shoes_set.count }})</span></a>
			</li>
			{% if not node.is_leaf_node %}<ul>{% endif %}
                {{children}}
                {% if not node.is_leaf_node %}</ul>{% endif %}
            {% endrecursetree %}
		</ul>
	</div>
	<div class="sidebar-filter mt-50">
		<div class="top-filter-head">Filters</div>
		<div class="common-filter">
			<div class="head">Опции</div>
<!--			<form method="get">-->
<!--				{{ filter.form.as_p }}-->
<!--				<button type="submit">Filter</button>-->
<!--			</form>-->
				<form method="get">
					<div class="filter-row">
						<div class="filter-label">Brand:</div>
						<div class="filter-value">
							<input type="text" name="brand" value="{{ request.GET.brand }}" class="form-control">
						</div>
					</div>
					<div class="filter-row">
						<div class="filter-label">Gender:</div>
						<div class="filter-value">
							<select name="gender" class="form-control" multiple>
								{% for gender in filter.form.gender.field.queryset %}
									<option> {{ gender }}</option>
								{% endfor %}
							</select>
						</div>
					</div>
					<div class="filter-row">
						<div class="filter-label">Color:</div>
						<div class="filter-value">
							<select name="color" class="form-control" multiple>
								{% for color in filter.form.color.field.queryset %}
									<option>{{ color }}</option>
								{% endfor %}
							</select>
						</div>
					</div>
					<div class="filter-row">
						<div class="filter-label">Size:</div>
						<div class="filter-value">
							<select name="size" class="form-control" multiple>
								{% for size in filter.form.size.field.queryset %}
									<option>{{ size }}</option>
								{% endfor %}
							</select>
						</div>
					</div>
					<div class="filter-row">
						<div class="filter-label">Country of manufacture:</div>
						<div class="filter-value">
							<select name="country_of_manufacture" class="form-control" multiple>
								{% for country in filter.form.country_of_manufacture.field.queryset %}
									<option>{{ country }}</option>
								{% endfor %}
							</select>
						</div>
					</div>
					<div class="filter-row">
						<div class="filter-label">Collection:</div>
						<div class="filter-value">
							<select name="collection" class="form-control" multiple>
								{% for collection in filter.form.collection.field.queryset %}
									<option>{{ collection }}</option>
								{% endfor %}
							</select>
						</div>
					</div>
					<div class="filter-row">
						<div class="filter-label">Discount:</div>
						<div class="filter-value">
							<input type="number" name="discount" value="{{ request.GET.discount }}" class="form-control">
						</div>
					</div>
					<div class="filter-row">
						<div class="filter-label">Price:</div>
						<div class="filter-value">
							<input type="number" name="price__gte" value="{{ request.GET.price__gte }}" class="form-control">
							<input type="number" name="price__lte" value="{{ request.GET.price__lte }}" class="form-control">
						</div>
					</div>
					<button type="submit" class="btn btn-primary">Filter</button>
				</form>
		</div>
	</div>


<!--<div class="card">-->
<!--    <div class="card-body">-->
<!--        <h5 class="card-title">Категории</h5>-->
<!--        {% full_tree_for_model product.Category as categories %}-->
<!--        <p class="card-text">-->
<!--        <ul>-->
<!--            {% recursetree categories %}-->
<!--            <li>-->
<!--                <a href="{{ node.get_absolute_url }}">{{ node.name }}</a>-->
<!--            </li>-->

<!--            {% if not node.is_leaf_node %}<ul>{% endif %}-->
<!--                {{children}}-->
<!--                {% if not node.is_leaf_node %}</ul>{% endif %}-->
<!--            {% endrecursetree %}-->
<!--        </ul>-->
<!--        </p>-->
<!--    </div>-->
<!--</div>-->